(this.webpackJsonpjianshu=this.webpackJsonpjianshu||[]).push([[0],{167:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"searchFocusAction",(function(){return ee})),n.d(r,"searchBlurAction",(function(){return te})),n.d(r,"taggleSearchAction",(function(){return ne})),n.d(r,"searchOnAction",(function(){return re})),n.d(r,"searchOffAction",(function(){return ie})),n.d(r,"fetchSearchListAction",(function(){return ce})),n.d(r,"storeSearchListAction",(function(){return ae})),n.d(r,"onMouseEnterAction",(function(){return oe})),n.d(r,"onMouseLeaveAction",(function(){return se})),n.d(r,"changePageAction",(function(){return ue})),n.d(r,"activeDiscoveryAction",(function(){return le})),n.d(r,"activeFollowingAction",(function(){return de})),n.d(r,"activeMessageAction",(function(){return ge})),n.d(r,"activeLoginAction",(function(){return pe})),n.d(r,"activeLogoutAction",(function(){return fe})),n.d(r,"activeWritingAction",(function(){return he}));var i={};n.r(i),n.d(i,"storeArticleListAction",(function(){return Ye})),n.d(i,"addArticleListAction",(function(){return Ge})),n.d(i,"storeRecommendListAction",(function(){return $e})),n.d(i,"storeRecommendWritersAction",(function(){return Xe})),n.d(i,"taggleScrollTopAction",(function(){return Ve})),n.d(i,"articleListLoadingOnAction",(function(){return qe})),n.d(i,"articleListLoadingOffAction",(function(){return Ke})),n.d(i,"addArticleListLoadingOnAction",(function(){return Qe})),n.d(i,"addArticleListLoadingOffAction",(function(){return Ze})),n.d(i,"recommendListLoadingOnAction",(function(){return et})),n.d(i,"recommendListLoadingOffAction",(function(){return tt})),n.d(i,"recommendWritersListLoadingOnAction",(function(){return nt})),n.d(i,"recommendWritersListLoadingOffAction",(function(){return rt})),n.d(i,"storeSearchTagsAction",(function(){return it})),n.d(i,"storeSearchTagsStringAction",(function(){return ct})),n.d(i,"fetchArticleListAction",(function(){return at})),n.d(i,"fetchMoreArticleListAction",(function(){return ot})),n.d(i,"fetchRecommendListAction",(function(){return st})),n.d(i,"fetchRecommendWritersAction",(function(){return ut}));var c={};n.r(c),n.d(c,"storeAccountAction",(function(){return Yt})),n.d(c,"storePasswordAction",(function(){return Gt})),n.d(c,"setErrowMessageAction",(function(){return $t})),n.d(c,"fetchResultAction",(function(){return Xt})),n.d(c,"loginAction",(function(){return Vt})),n.d(c,"logoutAction",(function(){return qt})),n.d(c,"taggleShowPasswordAction",(function(){return Kt}));var a={};n.r(a),n.d(a,"storeTitleAction",(function(){return pn})),n.d(a,"storeBodyAction",(function(){return fn})),n.d(a,"uploadSuccessfulAction",(function(){return hn})),n.d(a,"needUploadAction",(function(){return xn})),n.d(a,"uploadLoadingOnAction",(function(){return jn})),n.d(a,"uploadLoadingOffAction",(function(){return mn})),n.d(a,"uploadArticleAction",(function(){return bn}));var o={};n.r(o),n.d(o,"storeDetailAction",(function(){return Zn})),n.d(o,"fetchDetailAction",(function(){return er}));var s={};n.r(s),n.d(s,"storeFollowingInfoAction",(function(){return hr})),n.d(s,"fetchFollowingInfoAction",(function(){return xr})),n.d(s,"followingInfoLoadingOnAction",(function(){return jr})),n.d(s,"followingInfoLoadingOffAction",(function(){return mr}));var u={};n.r(u),n.d(u,"storeMessageAction",(function(){return Cr})),n.d(u,"fetchMessageAction",(function(){return Pr})),n.d(u,"messageLoadingOnAction",(function(){return Br})),n.d(u,"messageLoadingOffAction",(function(){return Er}));var l=n(0),d=n.n(l),g=n(46),p=n.n(g),f=n(32),h=n(21),x=function(e){return m+e},j=function(e){return m+e},m="/jianshu/",b=n(209),O="/",v="/following",w="/message",A="/login",_="/writing",y=n(1),L=Object(b.a)({logoWrapper:{height:"100%",marginRight:"70px",cursor:"pointer"},logoImg:{marginLeft:"10px",marginTop:"10.5px",height:"35px",width:"70px"}}),I=function(){var e=L();return Object(y.jsx)(f.b,{className:e.logoWrapper,to:O,children:Object(y.jsx)("img",{className:e.logoImg,src:x("/static/logo.png"),alt:"logo"})})},k=Object(b.a)((function(e){return{navItem:{padding:"0 20px",whiteSpace:"nowrap",fontSize:17,cursor:"pointer",color:e.flat,display:"flex",alignItems:"center"},active:{color:e.primary,animation:"$active .5s ease-in-out"},flat:{color:e.flat},"@keyframes active":{"0%":{transform:"scale(1)"},"70%":{transform:"scale(1.1)"},"100%":{transform:"scale(1)"}}}})),S=function(e){var t=k(),n=e.children,r=e.isActive,i=e.isFlat;return Object(y.jsx)("div",{className:"".concat(t.navItem," ").concat(r?t.active:""," ").concat(i?t.flat:""),children:n})},N=n(16),W=n(6),T="header_search_focus",R="header_taggle_search",F="header_search_on",M="header_search_off",C="header_search_blur",P="header_store_list",B="header_mouse_in",E="header_mouse_leave",z="header_change_page",D="header_active_discovery",J="header_active_following",H="header_active_message",U="header_active_login",Y="header_active_logout",G="header_active_writing",$="header_fetch_search_list",X=n(19),V=Object(X.fromJS)({isFocus:!1,isSearch:!1,isMouseIn:!1,list:[],currentPage:1,totalPage:0,isDiscoveryActive:!1,isFollowingActive:!1,isMessageActive:!1,isLoginActive:!1,isLogoutActive:!1,isWritingActive:!1}),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return e.set("isFocus",!0);case C:return e.set("isFocus",!1);case R:return e.set("isSearch",!e.get("isSearch"));case F:return e.set("isSearch",!0);case M:return e.set("isSearch",!1);case P:return e.merge({list:t.data.getIn(["list"]),totalPage:t.data.getIn(["totalPage"])});case B:return e.set("isMouseIn",!0);case E:return e.set("isMouseIn",!1);case z:return e.set("currentPage",t.data);case D:return e.merge({isDiscoveryActive:!0,isFollowingActive:!1,isMessageActive:!1,isLoginActive:!1,isLogoutActive:!1,isWritingActive:!1});case J:return e.merge({isDiscoveryActive:!1,isFollowingActive:!0,isMessageActive:!1,isLoginActive:!1,isLogoutActive:!1,isWritingActive:!1});case H:return e.merge({isDiscoveryActive:!1,isFollowingActive:!1,isMessageActive:!0,isLoginActive:!1,isLogoutActive:!1,isWritingActive:!1});case U:return e.merge({isDiscoveryActive:!1,isFollowingActive:!1,isMessageActive:!1,isLoginActive:!0,isLogoutActive:!1,isWritingActive:!1});case Y:return e.merge({isDiscoveryActive:!1,isFollowingActive:!1,isMessageActive:!1,isLoginActive:!1,isLogoutActive:!0,isWritingActive:!1});case G:return e.merge({isDiscoveryActive:!1,isFollowingActive:!1,isMessageActive:!1,isLoginActive:!1,isLogoutActive:!1,isWritingActive:!0});default:return e}},K=n(11),Q=n.n(K),Z=n(10),ee=function(){return{type:T}},te=function(){return{type:C}},ne=function(){return{type:R}},re=function(){return{type:F}},ie=function(){return{type:M}},ce=function(){return{type:$}},ae=function(e){return{type:P,data:e}},oe=function(){return{type:B}},se=function(){return{type:E}},ue=function(e){return{type:z,data:e}},le=function(){return{type:D}},de=function(){return{type:J}},ge=function(){return{type:H}},pe=function(){return{type:U}},fe=function(){return{type:Y}},he=function(){return{type:G}},xe=n(27),je=n.n(xe),me=Q.a.mark(Oe),be=Q.a.mark(ve);function Oe(){var e,t,n,r;return Q.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,je.a.get(j("/api/headerSearchList.json"));case 3:return e=i.sent,t=e.data.data,n={list:t,totalPage:Math.ceil(t.length/10)},r=ae(Object(X.fromJS)(n)),i.next=9,Object(Z.c)(r);case 9:i.next=14;break;case 11:i.prev=11,i.t0=i.catch(0),console.log(i.t0);case 14:case"end":return i.stop()}}),me,null,[[0,11]])}function ve(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.e)($,Oe);case 2:case"end":return e.stop()}}),be)}var we=ve,Ae="home_store_article_list",_e="home_add_atore_article_list",ye="home_add_recommend_list",Le="home_store_recommend_writers",Ie="home_taggle_scroll_top",ke="home_article_list_loading_on",Se="home_article_list_loading_off",Ne="home_add_article_list_loading_on",We="home_add_article_list_loading_off",Te="home_recommend_list_loading_on",Re="home_recommend_list_loading_off",Fe="home_recommend_writers_list_loading_on",Me="home_recommend_writers_list_loading_off",Ce="home_store_search_tags",Pe="home_store_search_tags_string",Be="home_fetch_article_list",Ee="home_fetch_more_article_list",ze="home_fetch_recommend_list",De="home_fetch_recommend_writers",Je=function(e){return e.filter((function(e){return e&&e.trim()}))},He=Object(X.fromJS)({articleList:[],recommendList:[],recommendWriters:[],articlePage:1,showScrollToTop:!1,articleListLoading:!0,addArticleListLoading:!1,recommendListLoading:!0,recommendWritersListLoading:!0,searchTags:[],searchTagsString:""}),Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return e.set("articleList",t.data);case _e:return e.merge({articleList:e.get("articleList").concat(t.data.get("articleList")),articlePage:t.data.get("articlePage")});case ye:return e.set("recommendList",t.data);case Le:return e.set("recommendWriters",t.data);case Ie:return e.set("showScrollToTop",t.data);case Ce:return e.merge({searchTags:t.data,searchTagsString:t.data.toJS().join(" ")});case Pe:return e.merge({searchTagsString:t.data,searchTags:Object(X.fromJS)(Je(t.data.split(" ")))});case ke:return e.set("articleListLoading",!0);case Se:return e.set("articleListLoading",!1);case Ne:return e.set("addArticleListLoading",!0);case We:return e.set("addArticleListLoading",!1);case Te:return e.set("recommendListLoading",!0);case Re:return e.set("recommendListLoading",!1);case Fe:return e.set("recommendWritersListLoading",!0);case Me:return e.set("recommendWritersListLoading",!1);default:return e}},Ye=function(e){return{type:Ae,data:e}},Ge=function(e){return{type:_e,data:e}},$e=function(e){return{type:ye,data:e}},Xe=function(e){return{type:Le,data:e}},Ve=function(e){return{type:Ie,data:e}},qe=function(){return{type:ke}},Ke=function(){return{type:Se}},Qe=function(){return{type:Ne}},Ze=function(){return{type:We}},et=function(){return{type:Te}},tt=function(){return{type:Re}},nt=function(){return{type:Fe}},rt=function(){return{type:Me}},it=function(e){return{type:Ce,data:e}},ct=function(e){return{type:Pe,data:e}},at=function(){return{type:Be}},ot=function(e){return{type:Ee,data:e}},st=function(){return{type:ze}},ut=function(){return{type:De}},lt=Q.a.mark(xt),dt=Q.a.mark(jt),gt=Q.a.mark(mt),pt=Q.a.mark(bt),ft=Q.a.mark(Ot),ht=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function xt(){var e,t,n,r,i;return Q.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(Z.c)(qe());case 3:return c.next=5,je.a.get(j("/api/articleList.json"));case 5:return e=c.sent,c.next=8,ht(1500);case 8:return t=e.data.data,c.next=11,Object(Z.d)((function(e){return e.getIn(["writing","title"])}));case 11:return n=c.sent,c.next=14,Object(Z.d)((function(e){return e.getIn(["writing","body"])}));case 14:return r=c.sent,c.next=17,Object(Z.d)((function(e){return e.getIn(["writing","isUploaded"])}));case 17:return c.sent&&t.splice(0,0,{id:"lcc",title:n,desc:r.slice(0,100)+"...",imgUrl:"",diamondNum:0,auther:"lcc",commentsNum:0,likeNum:0}),i=Ye(Object(X.fromJS)(t)),c.next=22,Object(Z.c)(i);case 22:return c.next=24,Object(Z.c)(Ke());case 24:c.next=29;break;case 26:c.prev=26,c.t0=c.catch(0),console.log(c.t0);case 29:case"end":return c.stop()}}),lt,null,[[0,26]])}function jt(e){var t,n,r,i;return Q.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.data,c.prev=1,c.next=4,Object(Z.c)(Qe());case 4:return c.next=6,je.a.get(j("/api/addArticleList.json?".concat(t)));case 6:return n=c.sent,c.next=9,ht(1500);case 9:return r={articleList:n.data.data,articlePage:t+1},i=Ge(Object(X.fromJS)(r)),c.next=13,Object(Z.c)(i);case 13:return c.next=15,Object(Z.c)(Ze());case 15:c.next=20;break;case 17:c.prev=17,c.t0=c.catch(1),console.log(c.t0);case 20:case"end":return c.stop()}}),dt,null,[[1,17]])}function mt(){var e,t,n;return Q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Z.c)(et());case 3:return r.next=5,je.a.get(j("/api/recommendList.json"));case 5:return e=r.sent,r.next=8,ht(1500);case 8:return t=e.data.data,n=$e(Object(X.fromJS)(t)),r.next=12,Object(Z.c)(n);case 12:return r.next=14,Object(Z.c)(tt());case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log(r.t0);case 19:case"end":return r.stop()}}),gt,null,[[0,16]])}function bt(){var e,t,n;return Q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Z.c)(nt());case 3:return r.next=5,je.a.get(j("/api/recommendWriters.json"));case 5:return e=r.sent,r.next=8,ht(1500);case 8:return t=e.data.data.users,n=Xe(Object(X.fromJS)(t)),r.next=12,Object(Z.c)(n);case 12:return r.next=14,Object(Z.c)(rt());case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log(r.t0);case 19:case"end":return r.stop()}}),pt,null,[[0,16]])}function Ot(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.e)(Be,xt);case 2:return e.next=4,Object(Z.e)(Ee,jt);case 4:return e.next=6,Object(Z.e)(ze,mt);case 6:return e.next=8,Object(Z.e)(De,bt);case 8:case"end":return e.stop()}}),ft)}var vt=Ot,wt=n(109),At=n.n(wt),_t=n(108),yt=n.n(_t),Lt=Object(b.a)((function(e){return{focus:{},navSearchWrapper:{position:"relative"},navSearch:{transition:"all .2s ease-in",width:"0px",margin:"0 10px 0 10px",padding:"0 32px 0 19px",height:"38px",color:e.title,outline:"none",border:"none",borderRadius:"19px","&::placeholder":{color:e.flat,fontSize:"16px",fontWeight:"400"}},isSearch:{width:"100px",background:e.flatBackground},searchInfo:{position:"absolute",padding:"20px 20px",top:"48px",left:"0px",width:"240px",background:"#fff",boxShadow:"0 0 5px rgba(0, 0, 0, 0.1)",zIndex:2,borderRadius:"10px"},searchIcon:{color:e.flat,transition:"all 0.2s ease-in",position:"absolute",width:"30px",lineHeight:"30px",textAlign:"center",borderRadius:"15px",right:"15px",top:"7px","&$focus":{color:e.primary}},searchInfoHeader:{display:"flex",alignItems:"center",lineHeight:"17px",textAlign:"center",marginBottom:"10px",justifyContent:"space-between"},searchInfoTitle:{fontSize:"14px",color:e.title},searchInfoItem:{float:"left",display:"block",textDecoration:"none",lineHeight:"20px",fontSize:"12px",borderRadius:"15px",padding:"0 5px",marginTop:"10px",marginRight:"10px",border:"1px solid ".concat(e.flat),color:e.flat,"&:hover":{color:e.title,border:"1px solid ".concat(e.title)}},searchInfoSwitch:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"13px",lineHeight:"24px",textAlign:"center",color:e.flat,"&:hover":{color:e.title}},spin:{float:"left",transition:"all 0.2s ease-in",transformOrigin:"center center",height:"24px",transform:function(e){return"rotate(".concat(e,"deg)")}}}})),It=function(){var e=Object(l.useState)(0),t=Object(N.a)(e,2),n=t[0],c=t[1],a=Lt(n),o=Object(W.c)((function(e){return e.getIn(["header","isFocus"])})),s=Object(W.c)((function(e){return e.getIn(["header","isSearch"])})),u=Object(W.c)((function(e){return e.getIn(["header","list"])})),d=Object(W.c)((function(e){return e.getIn(["header","isMouseIn"])})),g=Object(W.c)((function(e){return e.getIn(["header","currentPage"])})),p=Object(W.c)((function(e){return e.getIn(["header","totalPage"])})),f=Object(W.c)((function(e){return e.getIn(["home","searchTags"])})),h=Object(W.c)((function(e){return e.getIn(["home","searchTagsString"])})),x=Object(W.b)();function j(){x(r.onMouseEnterAction())}function m(){x(r.onMouseLeaveAction())}function b(){c(n+360),x(g<p?r.changePageAction(g+1):r.changePageAction(1))}return Object(y.jsxs)("div",{className:a.navSearchWrapper,children:[Object(y.jsx)("input",{className:"".concat(a.navSearch," ").concat(s?a.isSearch:""),placeholder:"\u641c\u7d22",onBlur:function(){x(r.searchBlurAction())},onFocus:function(){0===u.size&&x(r.fetchSearchListAction()),x(r.searchFocusAction())},value:h,onChange:function(e){x(i.storeSearchTagsStringAction(e.target.value))}}),Object(y.jsx)(At.a,{onClick:function(){x(r.taggleSearchAction())},className:"".concat(a.searchIcon," ").concat(s?a.focus:"")}),function(){var e=u.toJS();if(e.length&&(o||d)){for(var t=[],n=function(n){e[n]&&t.push(Object(y.jsx)("div",{className:a.searchInfoItem,onClick:function(){var t;t=e[n],f.indexOf(t)>-1||x(i.storeSearchTagsStringAction(f.join(" ")+" "+t))},children:e[n]},e[n]))},r=10*(g-1);r<10*g;r++)n(r);return Object(y.jsxs)("div",{className:a.searchInfo,onMouseEnter:j,onMouseLeave:m,children:[Object(y.jsxs)("div",{className:a.searchInfoHeader,children:[Object(y.jsx)("div",{className:a.searchInfoTitle,children:"\u70ed\u95e8\u641c\u7d22"}),Object(y.jsxs)("div",{className:a.searchInfoSwitch,onClick:b,children:[Object(y.jsx)("div",{className:a.spin,children:Object(y.jsx)(yt.a,{})}),Object(y.jsx)("div",{children:"\u6362\u4e00\u6279"})]})]}),t]})}return null}()]})},kt=n(110),St=n.n(kt),Nt=n(111),Wt=n.n(Nt),Tt=n(112),Rt=n.n(Tt),Ft=Object(b.a)((function(e){return{navWrapper:{display:"flex",flexGrow:1,alignItems:"center",justifyContent:"flex-start"},aaIcon:{fontSize:"17px",color:e.flat},link:{textDecoration:"none",color:"#333"}}})),Mt=function(){var e=Ft(),t=Object(W.c)((function(e){return e.getIn(["header","isDiscoveryActive"])})),n=Object(W.c)((function(e){return e.getIn(["header","isFollowingActive"])})),r=Object(W.c)((function(e){return e.getIn(["header","isMessageActive"])}));return Object(y.jsxs)("div",{className:e.navWrapper,children:[Object(y.jsx)(f.c,{className:e.link,to:O,children:Object(y.jsxs)(S,{isActive:t,children:[Object(y.jsx)(St.a,{}),"\u53d1\u73b0"]})}),Object(y.jsx)(f.c,{className:e.link,to:v,children:Object(y.jsxs)(S,{isActive:n,children:[Object(y.jsx)(Wt.a,{}),"\u5173\u6ce8"]})}),Object(y.jsx)(f.c,{className:e.link,to:w,children:Object(y.jsxs)(S,{isActive:r,children:[Object(y.jsx)(Rt.a,{}),"\u6d88\u606f"]})}),Object(y.jsx)(It,{})]})},Ct="login_store_account",Pt="login_store_password",Bt="login_login",Et="login_logout",zt="login_set_error_message",Dt="login_taggle_show_password",Jt="login_fetch_result",Ht=Object(X.fromJS)({account:"",password:"",showPassword:!1,isLogin:!0,errMsg:""}),Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ct:return e.set("account",t.data);case Pt:return e.set("password",t.data);case Bt:return e.set("isLogin",!0);case Et:return e.set("isLogin",!1);case zt:return e.set("errMsg",t.data);case Dt:return e.set("showPassword",!e.get("showPassword"));default:return e}},Yt=function(e){return{type:Ct,data:e}},Gt=function(e){return{type:Pt,data:e}},$t=function(e){return{type:zt,data:e}},Xt=function(e){return{type:Jt,data:e}},Vt=function(){return{type:Bt}},qt=function(){return{type:Et}},Kt=function(){return{type:Dt}},Qt=Q.a.mark(en),Zt=Q.a.mark(tn);function en(e){var t,n;return Q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.data,r.prev=1,"lcc"!==t.account||"123"!==t.password){r.next=8;break}return n=Vt(),r.next=6,Object(Z.c)(n);case 6:r.next=10;break;case 8:return r.next=10,Object(Z.c)($t("\u7528\u6237\u6216\u5bc6\u7801\u9519\u8bef"));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),console.log(r.t0);case 15:case"end":return r.stop()}}),Qt,null,[[1,12]])}function tn(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.e)(Jt,en);case 2:case"end":return e.stop()}}),Zt)}var nn=tn,rn="writing_store_title",cn="writing_store_body",an="writing_upload_successful",on="writing_need_upload",sn="writing_upload_loading_on",un="writing_upload_loading_off",ln="writing_upload_article",dn=Object(X.fromJS)({title:"",body:"",isUploaded:!1,uploadLoading:!1}),gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rn:return e.set("title",t.data);case cn:return e.set("body",t.data);case an:return e.set("isUploaded",!0);case on:return e.set("isUploaded",!1);case sn:return e.set("uploadLoading",!0);case un:return e.set("uploadLoading",!1);default:return e}},pn=function(e){return{type:rn,data:e}},fn=function(e){return{type:cn,data:e}},hn=function(){return{type:an}},xn=function(){return{type:on}},jn=function(){return{type:sn}},mn=function(){return{type:un}},bn=function(e){return{type:ln,data:e}},On=Q.a.mark(An),vn=Q.a.mark(_n),wn=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function An(e){var t,n;return Q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.data,r.prev=1,r.next=4,Object(Z.c)(jn());case 4:return r.next=6,je.a.get(j("/api/mockAcceptSuccess.json"),{params:{article:t}});case 6:return n=r.sent,r.next=9,wn(1500);case 9:if(!n.data.success){r.next=13;break}return r.next=13,Object(Z.c)(hn());case 13:return r.next=15,Object(Z.c)(mn());case 15:r.next=20;break;case 17:r.prev=17,r.t0=r.catch(1),console.log(r.t0);case 20:case"end":return r.stop()}}),On,null,[[1,17]])}function _n(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.e)(ln,An);case 2:case"end":return e.stop()}}),vn)}var yn=_n,Ln=n(114),In=n.n(Ln),kn=n(113),Sn=n.n(kn),Nn=Object(b.a)((function(e){return{HeaderAdditionWrapper:{display:"flex",width:"250px",justifyContent:"flex-end",alignItems:"center"},link:{textDecoration:"none",color:"#fff"},logIcon:{color:e.flat},logIconActive:{color:e.primary},btnFlat:{height:"38px",width:"38px",lineHeight:"38px",textAlign:"center",border:"1px solid ".concat(e.primary),borderRadius:"25px",marginRight:"30px",fontSize:"14px",color:e.primary,cursor:"pointer"},btnActive:{height:"38px",width:"38px",lineHeight:"38px",textAlign:"center",border:"1px solid ".concat(e.primary),borderRadius:"25px",marginRight:"30px",fontSize:"14px",background:e.primary,color:"#fff",cursor:"pointer"},userRegWrapper:{display:"flex",alignItems:"center",marginRight:"20px",height:"38px"},userRegImg:{borderRadius:"19px",height:"100%"},userRegIcon:{color:e.flat},loginWrapper:{cursor:"pointer",display:"flex",alignItems:"center"},textFlat:{marginRight:"5px",color:e.flat},textActive:{marginRight:"5px",color:e.primary}}})),Wn=function(){var e=Nn(),t=Object(h.g)(),n=Object(W.b)(),r=Object(W.c)((function(e){return e.getIn(["login","isLogin"])})),i=Object(W.c)((function(e){return e.getIn(["header","isLoginActive"])})),o=Object(W.c)((function(e){return e.getIn(["header","isWritingActive"])}));return Object(y.jsxs)("div",{className:e.HeaderAdditionWrapper,children:[Object(y.jsx)("div",{className:e.userRegWrapper,children:r?Object(y.jsxs)("div",{className:e.loginWrapper,onClick:function(){n(c.logoutAction())},children:[Object(y.jsx)("div",{className:e.textFlat,children:"\u9000\u51fa"}),Object(y.jsx)(Sn.a,{className:e.logIcon})]}):Object(y.jsxs)("div",{className:e.loginWrapper,onClick:function(){t.push(A)},children:[Object(y.jsx)("div",{className:i?e.textActive:e.textFlat,children:"\u767b\u5f55"}),Object(y.jsx)(In.a,{className:i?e.logIconActive:e.logIcon})]})}),Object(y.jsx)("div",{className:"".concat(e.btnFlat," ").concat(o?e.btnActive:""),onClick:function(){n(a.needUploadAction()),t.push(_)},children:Object(y.jsx)("span",{className:"iconfont",children:"\ue6eb"})})]})},Tn=Object(b.a)((function(e){return{wrapper:{display:"flex",justifyContent:"center",borderBottom:"1px solid #f0f0f0"},headerWrapper:{width:"100%",display:"flex",alignItems:"center",height:"56px",maxWidth:"1450px"}}})),Rn=function(){var e=Tn();return Object(y.jsx)("div",{className:e.wrapper,children:Object(y.jsxs)("div",{className:e.headerWrapper,children:[Object(y.jsx)(I,{}),Object(y.jsx)(Mt,{}),Object(y.jsx)(Wn,{})]})})},Fn=Object(b.a)((function(e){return{listItemWrapper:{display:"flex",alignItems:"center",flexDirection:"row-reverse",justifyContent:"space-between",borderBottom:"1px solid #f0f0f0",paddingBottom:"20px",paddingTop:"20px"},listItemText:{paddingRight:"10px"},title:{wordWrap:"break-word",fontSize:"18px",fontWeight:"700",lineHeight:"1.5",padding:"0 2px 5px 0",textDecoration:"inherit",color:e.title,cursor:"pointer"},desc:{wordWrap:"break-word",fontSize:"12px",lineHeight:"24px",color:e.flat,padding:"0 0 5px 0"},footer:{display:"flex",alignItems:"center",fontSize:"12px",fontWeight:"400",lineHeight:"20px"},footerItem:{display:"flex",alignItems:"center",color:e.flat,marginRight:"10px"},footerSpan:{marginRight:"3px"},listItemImg:{width:"148px",height:"98px",borderRadius:"5px"},notlike:{cursor:"pointer",height:"50px",width:"50px",backgroundImage:"url(".concat(x("/static/heart_animation.png"),")"),backgroundPosition:"left",backgroundRepeat:"no-repeat",backgroundSize:"2900%"},like:{cursor:"pointer",height:"50px",width:"50px",backgroundImage:"url(".concat(x("/static/heart_animation.png"),")"),backgroundPosition:"right",backgroundRepeat:"no-repeat",backgroundSize:"2900%"},isLike:{animation:"$heart-burst .8s steps(28) 1"},"@keyframes heart-burst":{from:{backgroundPosition:"left"},to:{backgroundPosition:"right"}},likeNum:{color:"#e2264d"},notLikeNum:{color:e.flat},tagWrapper:{display:"flex",alignItems:"cebter"},tag:{color:e.title,background:e.flatBackground,borderRadius:"15px",marginRight:"10px",padding:"0 10px"}}})),Mn=function(e){var t=Fn(),n=e.item,r=Object(l.useState)(!1),i=Object(N.a)(r,2),c=i[0],a=i[1];return Object(y.jsxs)("div",{className:t.listItemWrapper,children:[Object(y.jsx)("img",{className:t.listItemImg,src:n.get("imgUrl")?n.get("imgUrl"):x("/static/article_default_img.jpeg"),alt:"list img"}),Object(y.jsxs)("div",{className:t.listItemText,children:[Object(y.jsx)(f.c,{className:t.title,to:"/detail/"+n.get("id"),children:n.get("title")}),Object(y.jsx)("div",{className:t.desc,children:n.get("desc")}),Object(y.jsxs)("div",{className:t.footer,children:[Object(y.jsx)("div",{className:t.tagWrapper,children:n.get("tag")?n.get("tag").map((function(e,n){return Object(y.jsx)("div",{className:t.tag,children:e},n)})):null}),Object(y.jsx)("div",{className:t.footerItem,children:Object(y.jsx)("span",{children:n.get("auther")})}),Object(y.jsxs)("div",{className:t.footerItem,children:[Object(y.jsx)("div",{className:"".concat(c?t.like:t.notlike," ").concat(c?t.isLike:""),onClick:function(){a(!c)}}),Object(y.jsx)("div",{className:"".concat(c?t.likeNum:t.notLikeNum),children:"".concat(n.get("likeNum")+(c?1:0))})]})]})]})]})},Cn=n(115),Pn=n(219),Bn=n(217),En=Object(b.a)((function(e){return{infiniteScrollfooter:{color:e.flat,fontSize:"12px",margin:"10px auto"},loadingList:{display:"flex",justifyItems:"flex-start",marginTop:"40px"}}})),zn=function(){var e=En(),t=Object(W.b)(),n=Object(W.c)((function(e){return e.getIn(["home","articleList"])})),r=Object(W.c)((function(e){return e.getIn(["home","searchTags"])})),c=Object(W.c)((function(e){return e.getIn(["home","articlePage"])})),a=Object(W.c)((function(e){return e.getIn(["home","addArticleListLoading"])})),o=Object(W.c)((function(e){return e.getIn(["home","articleListLoading"])})),s=Object(l.useState)(Object(X.fromJS)([])),u=Object(N.a)(s,2),d=u[0],g=u[1];function p(){return Object(y.jsxs)("div",{className:e.loadingList,children:[Object(y.jsxs)(Pn.a,{sx:{width:400,margin:"0 20px 0 0"},children:[Object(y.jsx)(Bn.a,{width:"100%",height:"60px"}),Object(y.jsx)(Bn.a,{width:"100%"}),Object(y.jsx)(Bn.a,{width:"100%"}),Object(y.jsx)(Bn.a,{width:"100%"}),Object(y.jsx)(Bn.a,{width:"100%"})]}),Object(y.jsx)(Pn.a,{sx:{pt:.5},children:Object(y.jsx)(Bn.a,{variant:"rectangular",width:210,height:118,sx:{borderRadius:1}})})]})}return Object(l.useEffect)((function(){t(i.fetchArticleListAction())}),[t]),Object(l.useEffect)((function(){if(r.size){var e=[];n.forEach((function(t){var n=!1;t.get("tag").forEach((function(i){!n&&r.indexOf(i)>-1&&(e.push(t),n=!0)}))})),g(Object(X.fromJS)(e))}else g(n)}),[r,n]),o?Object(y.jsxs)("div",{children:[p(),p(),p()]}):Object(y.jsx)(Cn.a,{dataLength:d.size,next:function(){t(i.fetchMoreArticleListAction(c))},style:{overflow:"hidden"},hasMore:!0,endMessage:Object(y.jsx)("p",{style:{textAlign:"center"},children:Object(y.jsx)("b",{children:"Yay! You have seen it all"})}),loader:a?Object(y.jsxs)(Pn.a,{sx:{width:300,margin:"20px auto"},children:[Object(y.jsx)(Bn.a,{}),Object(y.jsx)(Bn.a,{animation:"wave"}),Object(y.jsx)(Bn.a,{animation:!1})]}):Object(y.jsx)("div",{className:e.infiniteScrollfooter,children:"\u4e0b\u62c9\u83b7\u53d6\u66f4\u591a\u6570\u636e"}),children:d.map((function(e,t){return Object(y.jsx)(Mn,{item:e},t)}))})},Dn=Object(b.a)({topicWrapper:{},itemWrapper:{width:"100%",marginBottom:"5px"}}),Jn=function(){var e=Dn(),t=Object(W.c)((function(e){return e.getIn(["home","recommendList"])})),n=Object(W.c)((function(e){return e.getIn(["home","recommendListLoading"])})),r=Object(W.b)();return Object(l.useEffect)((function(){r(i.fetchRecommendListAction())}),[r]),n?Object(y.jsxs)(Pn.a,{sx:{width:300,margin:"0 20px 0 0"},children:[Object(y.jsx)(Bn.a,{width:"100%",height:"60px"}),Object(y.jsx)(Bn.a,{width:"100%",height:"60px"}),Object(y.jsx)(Bn.a,{width:"100%",height:"60px"}),Object(y.jsx)(Bn.a,{width:"100%",height:"60px"})]}):Object(y.jsx)("div",{className:e.topicWrapper,children:t.map((function(t){return Object(y.jsx)("img",{className:e.itemWrapper,src:t.get("imgUrl"),alt:"recommend banner"},t.get("id"))}))})},Hn=Object(b.a)((function(e){return{writerItem:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},display:"flex",itemLeft:{display:"flex",height:"48px",alignItems:"center"},writerAvatar:{height:"48px",width:"48px",borderRadius:"50%",marginRight:"10px"},nickname:{fontSize:"14px",fontWeight:"800",color:e.title,marginBottom:"10px"},info:{fontSize:"12px",color:e.flat},itemRight:{paddingTop:"5px",paddingBottom:"5px",fontSize:"13px",lineHeight:"18px",textAlign:"center",color:e.primary,height:"18px",width:"55px",border:"1.5px solid ".concat(e.primary),borderRadius:"15px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},followItemRight:{paddingTop:"5px",paddingBottom:"5px",fontSize:"13px",lineHeight:"18px",textAlign:"center",color:"#fff",height:"18px",width:"55px",border:"1.5px solid ".concat(e.primary),background:e.primary,borderRadius:"15px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"}}})),Un=function(e){var t=Hn(),n=e.item,r=Object(l.useState)(!1),i=Object(N.a)(r,2),c=i[0],a=i[1];return Object(y.jsxs)("div",{className:t.writerItem,children:[Object(y.jsxs)("div",{className:t.itemLeft,children:[Object(y.jsx)("img",{className:t.writerAvatar,src:n.get("avatar_source"),alt:"writer avatar"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:t.nickname,children:n.get("nickname")}),Object(y.jsxs)("div",{className:t.info,children:["\u5199\u4e86",(n.get("total_wordage")/1e3).toFixed(1),"k\u5b57 \xb7 ",(n.get("total_likes_count")/1e3).toFixed(1),"k\u559c\u6b22"]})]})]}),Object(y.jsx)("div",{className:"".concat(c?t.followItemRight:t.itemRight),onClick:function(){a(!c)},children:"\u5173\u6ce8"})]})},Yn=Object(b.a)((function(e){return{writersWrapper:{marginTop:"20px"},writersTitle:{color:e.title,fontWeight:"600",fontSize:"14px",margin:"60px 0 20px"}}})),Gn=function(){var e=Yn(),t=Object(W.c)((function(e){return e.getIn(["home","recommendWriters"])})),n=Object(W.c)((function(e){return e.getIn(["home","recommendWritersListLoading"])})),r=Object(W.b)();return Object(l.useEffect)((function(){r(i.fetchRecommendWritersAction())}),[r]),n?Object(y.jsxs)(Pn.a,{sx:{width:300,margin:"40px 20px 0 0"},children:[Object(y.jsx)(Bn.a,{width:"100%",height:"60px"}),Object(y.jsx)(Bn.a,{width:"100%",height:"60px"}),Object(y.jsx)(Bn.a,{width:"100%",height:"60px"}),Object(y.jsx)(Bn.a,{width:"100%",height:"60px"}),Object(y.jsx)(Bn.a,{width:"100%",height:"60px"})]}):Object(y.jsxs)("div",{className:e.writersWrapper,children:[Object(y.jsx)("div",{className:e.writersTitle,children:"\u63a8\u8350\u4f5c\u8005"}),t.map((function(e,t){return Object(y.jsx)(Un,{item:e},t)}))]})},$n=Object(b.a)((function(e){return{homeWrapper:{overflowY:"scroll",display:"flex",justifyContent:"start",maxWidth:"1200px",margin:"20px auto"},homeLeftWrapper:{width:"720px",paddingRight:"30px"},homeLeftFooter:{color:e.flat,fontSize:"13px",marginTop:"100px",marginBottom:"50px"},homeRightWrapper:{paddingTop:"20px",paddingLeft:"100px",width:"280px"},ReadMoreBtn:{fontSize:"17px",color:"#fff",backgroundColor:"#a5a5a5",borderRadius:"20px",borderStyle:"none",width:"100%",height:"40px",marginTop:"20px",cursor:"pointer"},scrollToTop:{position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"25px",right:"40px",bottom:"40px",color:"#fff",background:e.primary,height:"50px",width:"50px",cursor:"pointer"}}})),Xn=function(){var e=$n(),t=Object(W.b)(),n=Object(W.c)((function(e){return e.getIn(["home","showScrollToTop"])}));return Object(l.useEffect)((function(){function e(){window.pageYOffset>500?t(i.taggleScrollTopAction(!0)):t(i.taggleScrollTopAction(!1))}return t(r.activeDiscoveryAction()),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[t]),Object(y.jsxs)("div",{className:e.homeWrapper,children:[n?Object(y.jsx)("div",{className:e.scrollToTop,onClick:function(){window.scrollTo(0,0)},children:Object(y.jsx)("span",{className:"iconfont",children:"\ue85f"})}):null,Object(y.jsxs)("div",{className:e.homeLeftWrapper,children:[Object(y.jsx)(zn,{}),Object(y.jsx)("div",{className:e.homeLeftFooter,children:"\u5173\u4e8e\u7b80\u4e66 \xb7 \u8054\u7cfb\u6211\u4eec \xb7 \u52a0\u5165\u6211\u4eec \xb7 \u7b80\u4e66\u51fa\u7248 \xb7 \u54c1\u724c\u4e0e\u5fbd\u6807 \xb7 \u5e2e\u52a9\u4e2d\u5fc3 \xb7 \u5408\u4f5c\u4f19\u4f34 \xb7 \u6d82\u6aac-\u539f\u521b\u63d2\u753b\u793e\u533a"})]}),Object(y.jsxs)("div",{className:e.homeRightWrapper,children:[Object(y.jsx)(Jn,{}),Object(y.jsx)(Gn,{})]})]})},Vn="detail_store_detail",qn="detail_fetch_detail",Kn=Object(X.fromJS)({detail:null}),Qn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vn:return e.set("detail",t.data);default:return e}},Zn=function(e){return{type:Vn,data:e}},er=function(e){return{type:qn,data:e}},tr=n(61),nr=Q.a.mark(ir),rr=Q.a.mark(cr);function ir(e){var t,n,r,i,c,a,o,s;return Q.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(t=e.data,u.prev=1,"lcc"!==t){u.next=15;break}return u.next=5,Object(tr.d)((function(e){return e.getIn(["writing","title"])}));case 5:return n=u.sent,u.next=8,Object(tr.d)((function(e){return e.getIn(["writing","body"])}));case 8:return r=u.sent,i={id:"lcc",title:n,imgUrl:"",paragraph:r.split("\n")},c=Zn(Object(X.fromJS)(i)),u.next=13,Object(Z.c)(c);case 13:u.next=22;break;case 15:return u.next=17,je.a.get(j("/api/detailDetail_"+t+".json"));case 17:return a=u.sent,o=a.data.data,s=Zn(Object(X.fromJS)(o)),u.next=22,Object(Z.c)(s);case 22:u.next=27;break;case 24:u.prev=24,u.t0=u.catch(1),console.log(u.t0);case 27:case"end":return u.stop()}}),nr,null,[[1,24]])}function cr(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.e)(qn,ir);case 2:case"end":return e.stop()}}),rr)}var ar=cr,or=Object(b.a)({detailWrapper:{width:"640px",margin:"0 auto",marginTop:"40px"},title:{fontSize:"30px",fontWeight:"700",wordBreak:"break-word",color:"#404040",textAlign:"center",marginBottom:"40px"},detailImage:{width:"100%",marginBottom:"20px"},paragraph:{marginBottom:"20px",wordBreak:"break-word",fontWeight:"400px",lineHeight:"1.8"}}),sr=function(e){var t=or(),n=Object(W.b)();Object(l.useEffect)((function(){var t=e.match.params.id;n(o.fetchDetailAction(t))}),[n,e.match.params.id]);var r=Object(W.c)((function(e){return e.getIn(["detail","detail"])}));return r?Object(y.jsxs)("div",{className:t.detailWrapper,children:[Object(y.jsx)("div",{className:t.title,children:r.get("title")}),r.get("imgUrl")?Object(y.jsx)("img",{className:t.detailImage,src:r.get("imgUrl"),alt:"detailImage"}):null,r.get("paragraph").map((function(e,n){return Object(y.jsx)("div",{className:t.paragraph,children:e},n)}))]}):null},ur="following_store_following_info",lr="following_following_info_loading_on",dr="following_following_info_loading_off",gr="following_fetch_following_info",pr=Object(X.fromJS)({followingInfo:[],followingInfoLoading:!0}),fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ur:return e.set("followingInfo",t.data);case lr:return e.set("followingInfoLoading",!0);case dr:return e.set("followingInfoLoading",!1);default:return e}},hr=function(e){return{type:ur,data:e}},xr=function(e){return{type:gr,data:e}},jr=function(){return{type:lr}},mr=function(){return{type:dr}},br=Q.a.mark(wr),Or=Q.a.mark(Ar),vr=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function wr(){var e,t,n;return Q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Z.c)(jr());case 3:return r.next=5,je.a.get(j("/api/followingFollowingInfo.json"));case 5:return e=r.sent,r.next=8,vr(1500);case 8:return t=e.data.data,n=hr(Object(X.fromJS)(t)),r.next=12,Object(Z.c)(n);case 12:return r.next=14,Object(Z.c)(mr());case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log(r.t0);case 19:case"end":return r.stop()}}),br,null,[[0,16]])}function Ar(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.e)(gr,wr);case 2:case"end":return e.stop()}}),Or)}var _r=Ar,yr=n(218),Lr=Object(b.a)((function(e){return{listItemWrapper:{display:"flex",flexGrow:1,alignItems:"center",justifyContent:"flex-start",background:"#86A8E7",height:"80px",padding:"0 20px",borderRadius:"14px",marginBottom:"20px"},nickname:{margin:"0 0 0 20px",color:e.primary,fontWeight:"800"},info:{margin:"10px 0 0 20px",color:"#fff"}}})),Ir=function(e){var t=Lr(),n=e.info,r=n.nickname.substr(0,1).toUpperCase();return Object(y.jsxs)("div",{className:t.listItemWrapper,children:[Object(y.jsx)(yr.a,{children:r}),Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:t.nickname,children:n.nickname}),Object(y.jsx)("div",{className:t.info,children:n.intro})]})]})},kr=Object(b.a)({followingWrapper:{width:"640px",margin:"0 auto",marginTop:"40px"}}),Sr=function(){var e=kr(),t=Object(W.b)(),n=Object(W.c)((function(e){return e.getIn(["following","followingInfo"])})),i=Object(W.c)((function(e){return e.getIn(["following","followingInfoLoading"])}));return Object(l.useEffect)((function(){t(r.activeFollowingAction()),t(s.fetchFollowingInfoAction())}),[t]),i?Object(y.jsxs)(Pn.a,{sx:{width:640,margin:"0 auto",marginTop:"40px"},children:[Object(y.jsx)(Bn.a,{width:"100%",height:"60px"}),Object(y.jsx)(Bn.a,{width:"100%",height:"60px"}),Object(y.jsx)(Bn.a,{width:"100%",height:"60px"}),Object(y.jsx)(Bn.a,{width:"100%",height:"60px"}),Object(y.jsx)(Bn.a,{width:"100%",height:"60px"})]}):Object(y.jsx)("div",{className:e.followingWrapper,children:n.map((function(e,t){return Object(y.jsx)(Ir,{info:e.toJS()},t)}))})},Nr="message_store_message",Wr="message_message_loading_on",Tr="message_message_loading_off",Rr="message_fetch_message",Fr=Object(X.fromJS)({message:[],messageLoading:!0}),Mr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nr:return e.set("message",t.data);case Wr:return e.set("messageLoading",!0);case Tr:return e.set("messageLoading",!1);default:return e}},Cr=function(e){return{type:Nr,data:e}},Pr=function(e){return{type:Rr,data:e}},Br=function(){return{type:Wr}},Er=function(){return{type:Tr}},zr=Q.a.mark(Hr),Dr=Q.a.mark(Ur),Jr=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function Hr(){var e,t,n;return Q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Z.c)(Br());case 3:return r.next=5,je.a.get(j("/api/messageMessage.json"));case 5:return e=r.sent,r.next=8,Jr(1500);case 8:return t=e.data.data,n=Cr(Object(X.fromJS)(t)),r.next=12,Object(Z.c)(n);case 12:return r.next=14,Object(Z.c)(Er());case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log(r.t0);case 19:case"end":return r.stop()}}),zr,null,[[0,16]])}function Ur(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.e)(Rr,Hr);case 2:case"end":return e.stop()}}),Dr)}var Yr=Ur,Gr=Object(b.a)((function(e){return{listItemWrapper:{display:"flex",flexGrow:1,alignItems:"center",justifyContent:"flex-start",background:"#86A8E7",height:"80px",padding:"0 20px",borderRadius:"14px",marginBottom:"20px"},nickname:{margin:"0 0 0 20px",color:e.primary,fontWeight:"800"},msg:{margin:"10px 0 0 20px",color:"#fff"}}})),$r=function(e){var t=Gr(),n=e.value,r=n.nickname.substr(0,1).toUpperCase();return Object(y.jsxs)("div",{className:t.listItemWrapper,children:[Object(y.jsx)(yr.a,{children:r}),Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:t.nickname,children:n.nickname}),Object(y.jsx)("div",{className:t.msg,children:n.msg})]})]})},Xr=Object(b.a)({messageWrapper:{width:"640px",margin:"0 auto",marginTop:"40px"}}),Vr=function(){var e=Xr(),t=Object(W.b)(),n=Object(W.c)((function(e){return e.getIn(["message","message"])})),i=Object(W.c)((function(e){return e.getIn(["message","messageLoading"])}));return Object(l.useEffect)((function(){t(r.activeMessageAction()),t(u.fetchMessageAction())}),[t]),i?Object(y.jsxs)(Pn.a,{sx:{width:640,margin:"0 auto",marginTop:"40px"},children:[Object(y.jsx)(Bn.a,{width:"100%",height:"60px"}),Object(y.jsx)(Bn.a,{width:"100%",height:"60px"}),Object(y.jsx)(Bn.a,{width:"100%",height:"60px"}),Object(y.jsx)(Bn.a,{width:"100%",height:"60px"}),Object(y.jsx)(Bn.a,{width:"100%",height:"60px"})]}):Object(y.jsx)("div",{className:e.messageWrapper,children:n.map((function(e,t){return Object(y.jsx)($r,{value:e.toJS()},t)}))})},qr=n(220),Kr=n(212),Qr=n(214),Zr=n(215),ei=n(210),ti=n(117),ni=n.n(ti),ri=n(116),ii=n.n(ri),ci=n(213),ai=n(207),oi=Object(b.a)((function(e){return{loginCardWrapper:{maxWidth:345,margin:"40px auto"},loginSubBtn:{color:e.primary,width:"100%",height:"40px",lineHeight:"40px",textAlign:"center",border:"1px solid "+e.primary,borderRadius:"5px",cursor:"pointer",marginBottom:"20px"},loginTitle:{color:e.primary,margin:"20px auto",textAlign:"center",fontSize:"30px",fontWeight:"300"},errMsg:{color:e.warnning,margin:"20px auto"}}})),si=function(e){var t=oi(),n=Object(h.g)(),i=Object(W.b)(),a=Object(W.c)((function(e){return e.getIn(["login","account"])})),o=Object(W.c)((function(e){return e.getIn(["login","password"])})),s=Object(W.c)((function(e){return e.getIn(["login","isLogin"])})),u=Object(W.c)((function(e){return e.getIn(["login","errMsg"])})),d=Object(W.c)((function(e){return e.getIn(["login","showPassword"])}));Object(l.useEffect)((function(){i(r.activeLoginAction())}),[i]),s&&n.push(O);return Object(y.jsx)("div",{children:Object(y.jsxs)("div",{className:t.loginCardWrapper,children:[Object(y.jsx)("div",{className:t.loginTitle,children:"\u767b\u5f55"}),Object(y.jsxs)(qr.a,{sx:{width:"100%",margin:"10px auto"},variant:"outlined",children:[Object(y.jsx)(Qr.a,{htmlFor:"login-account",children:"\u8d26\u53f7"}),Object(y.jsx)(Kr.a,{id:"login-account",value:a,onChange:function(e){i(c.storeAccountAction(e.target.value))},label:"\u8d26\u53f7"})]}),Object(y.jsxs)(qr.a,{sx:{width:"100%",margin:"10px 0 20px 0"},variant:"outlined",children:[Object(y.jsx)(Qr.a,{htmlFor:"outlined-adornment-password",children:"\u5bc6\u7801"}),Object(y.jsx)(Kr.a,{id:"outlined-adornment-password",type:d?"text":"password",value:o,onChange:function(e){i(c.storePasswordAction(e.target.value))},endAdornment:Object(y.jsx)(Zr.a,{position:"end",children:Object(y.jsx)(ei.a,{"aria-label":"toggle password visibility",onClick:function(){i(c.taggleShowPasswordAction())},onMouseDown:function(){return function(e){e.preventDefault()}},edge:"end",children:d?Object(y.jsx)(ii.a,{}):Object(y.jsx)(ni.a,{})})}),label:"\u5bc6\u7801"})]}),Object(y.jsx)("div",{className:t.loginSubBtn,onClick:function(){var e={account:a,password:o};i(c.fetchResultAction(e))},children:"\u63d0\u4ea4"}),u&&Object(y.jsx)(ai.a,{sx:{width:"100%"},spacing:2,children:Object(y.jsx)(ci.a,{severity:"error",children:u})})]})})},ui=n(118),li=n(206),di=n(211),gi=Object(b.a)((function(e){return{writingWrapper:{width:"640px",margin:"60px auto"},sendBtn:{top:"20px",right:"25px"},title:{width:"100%",height:400,borderStyle:"none",outline:"none"},writingSubBtn:{color:"#fff",background:e.primary,width:"80px",height:"40px",lineHeight:"40px",textAlign:"center",border:"1px solid "+e.primary,borderRadius:"10px",cursor:"pointer",marginTop:"20px"},scrollToTop:{position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"25px",right:"40px",bottom:"40px",color:"#fff",background:e.primary,height:"50px",width:"50px",cursor:"pointer"}}})),pi=Object(l.forwardRef)((function(e,t){return Object(y.jsx)(ci.a,Object(ui.a)({elevation:6,ref:t,variant:"filled"},e))})),fi={Header:Rn,Home:Xn,Detail:sr,Following:Sr,Message:Vr,Login:si,Writing:function(){var e=gi(),t=Object(W.b)(),n=Object(h.g)(),i=Object(l.useState)(!0),c=Object(N.a)(i,2),o=c[0],s=c[1],u=Object(l.useState)(!0),d=Object(N.a)(u,2),g=d[0],p=d[1],f=Object(W.c)((function(e){return e.getIn(["writing","title"])})),x=Object(W.c)((function(e){return e.getIn(["writing","body"])})),j=Object(W.c)((function(e){return e.getIn(["writing","uploadLoading"])})),m=Object(W.c)((function(e){return e.getIn(["writing","isUploaded"])}));Object(l.useEffect)((function(){t(r.activeWritingAction())}),[t]),Object(l.useEffect)((function(){f&&s(!0)}),[f]),Object(l.useEffect)((function(){x&&p(!0)}),[x]);return Object(y.jsxs)("div",{className:e.writingWrapper,children:[!o&&Object(y.jsx)(ai.a,{sx:{width:"680px"},spacing:2,children:Object(y.jsx)(ci.a,{severity:"error",children:"\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a"})}),!g&&Object(y.jsx)(ai.a,{sx:{width:"680px"},spacing:2,children:Object(y.jsx)(ci.a,{severity:"error",children:"\u6b63\u6587\u4e0d\u80fd\u4e3a\u7a7a"})}),Object(y.jsx)(di.a,{open:j,autoHideDuration:3e3,children:Object(y.jsx)(pi,{severity:"info",sx:{width:"200px"},children:"\u6b63\u5728\u4e0a\u4f20\u6587\u7ae0..."})}),Object(y.jsx)(di.a,{open:m,autoHideDuration:3e3,children:Object(y.jsx)(pi,{severity:"success",sx:{width:"200px"},children:"\u6587\u7ae0\u4e0a\u4f20\u6210\u529f!"})}),Object(y.jsx)("div",{className:e.scrollToTop,onClick:function(){f?x?(t(a.uploadArticleAction({title:f,body:x})),setTimeout((function(){n.push(O)}),3e3)):p(!1):s(!1)},children:"\u53d1\u5e03"}),Object(y.jsx)(li.a,{"aria-label":"empty textarea",placeholder:"\u8f93\u5165\u6807\u9898...",style:{width:"100%",height:80,borderStyle:"none",outline:"none",fontSize:25,padding:"20px",resize:"none"},value:f,onChange:function(e){t(a.storeTitleAction(e.target.value)),t(a.needUploadAction())}}),Object(y.jsx)(li.a,{"aria-label":"empty textarea",placeholder:"\u8f93\u5165\u6b63\u6587...",style:{width:"100%",height:600,borderStyle:"none",outline:"none",fontSize:18,background:"#F4F9F9",borderRadius:"15px",padding:"20px",resize:"none"},value:x,onChange:function(e){t(a.storeBodyAction(e.target.value)),t(a.needUploadAction())}})]})}};var hi=function(e){return Object(W.c)((function(e){return e.getIn(["login","isLogin"])}))?Object(y.jsx)(h.b,{path:e.path,component:e.component}):Object(y.jsx)(h.a,{to:A})},xi=function(){return Object(y.jsxs)(f.a,{basename:m,children:[Object(y.jsx)(fi.Header,{}),Object(y.jsxs)(h.d,{children:[Object(y.jsx)(h.b,{path:O,exact:!0,component:fi.Home}),Object(y.jsx)(h.b,{path:"/detail/:id",component:fi.Detail}),Object(y.jsx)(hi,{path:v,component:fi.Following}),Object(y.jsx)(hi,{path:w,component:fi.Message}),Object(y.jsx)(h.b,{path:A,component:fi.Login}),Object(y.jsx)(hi,{path:_,component:fi.Writing})]})]})};var ji=function(){return Object(y.jsx)(l.Fragment,{children:Object(y.jsx)(xi,{})})},mi=n(60),bi=n(121),Oi=n(119),vi=Object(Oi.combineReducers)({header:q,home:Ue,detail:Qn,login:Ut,writing:gn,following:fr,message:Mr}),wi=[];[we,vt,ar,nn,yn,_r,Yr].forEach((function(e){wi.push(Object(Z.b)(e))}));var Ai=Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.a)([].concat(wi));case 2:case"end":return e.stop()}}),e)})),_i=Object(bi.a)(),yi=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||mi.b,Li=Object(mi.c)(vi,yi(Object(mi.a)(_i)));_i.run(Ai);var Ii=Li,ki=n(208),Si={primary:"#F27121",title:"#495C69",warnning:"#f44336",flat:"#aab8c2",flatBackground:"#EFEFEF"};n(167),n(168),p.a.render(Object(y.jsx)(d.a.StrictMode,{children:Object(y.jsx)(ki.a,{theme:Si,children:Object(y.jsx)(W.a,{store:Ii,children:Object(y.jsx)(ji,{})})})}),document.getElementById("root"))}},[[169,1,2]]]);
//# sourceMappingURL=main.af2b1eef.chunk.js.map